<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>智搭医美 - 重庆联合丽格第五医疗美容医院</title>
    <link rel="icon" type="image/png" href="images/favicon.png">
    <link rel="apple-touch-icon" href="images/favicon.png">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Material Symbols -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">

    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Header -->
    <header class="app-header">
        <div class="header-container">
            <div class="header-left">
                <img src="images/logo.png" alt="智搭医美" class="header-logo">
                <h1 class="header-title">智搭医美</h1>
            </div>
            <nav class="header-nav">
                <button class="nav-btn" id="guideBtn" title="使用说明">
                    <span class="material-symbols-rounded">help</span>
                </button>
                <button class="nav-btn" id="aboutBtn" title="关于">
                    <span class="material-symbols-rounded">info</span>
                </button>
                <button class="nav-btn" id="settingsBtn" title="设置">
                    <span class="material-symbols-rounded">settings</span>
                </button>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="app-main" id="mainContent">
        <!-- Welcome Screen -->
        <section id="welcomeSection" class="section active">
            <div class="welcome-content">
                <div class="welcome-icon">
                    <span class="material-symbols-rounded">auto_awesome</span>
                </div>
                <h2>欢迎使用智搭医美</h2>
                <p class="subtitle">AI驱动的个性化医美方案定制平台</p>
                <div class="feature-grid">
                    <div class="feature-card">
                        <span class="material-symbols-rounded">photo_camera</span>
                        <h3>智能分析</h3>
                        <p>上传照片，AI识别肌肤问题</p>
                    </div>
                    <div class="feature-card">
                        <span class="material-symbols-rounded">psychology</span>
                        <h3>专业定制</h3>
                        <p>根据需求生成专属方案</p>
                    </div>
                    <div class="feature-card">
                        <span class="material-symbols-rounded">verified</span>
                        <h3>医生把关</h3>
                        <p>专业医生团队审核建议</p>
                    </div>
                </div>
                <button class="primary-btn large" id="startBtn">
                    开始分析
                    <span class="material-symbols-rounded">arrow_forward</span>
                </button>
                <button class="secondary-btn" id="loadHistoryBtn">
                    <span class="material-symbols-rounded">history</span>
                    查看历史记录
                </button>
            </div>
        </section>

        <!-- Photo Upload Section -->
        <section id="photoSection" class="section">
            <div class="section-header">
                <h2>
                    <span class="material-symbols-rounded">photo_library</span>
                    上传照片
                </h2>
                <p class="section-subtitle">请上传1-3张照片（全面部、侧面、局部特写）</p>
            </div>
            <div class="photo-upload-container">
                <div class="photo-upload-grid" id="photoUploadGrid">
                    <div class="photo-upload-slot" data-index="0">
                        <input type="file" accept="image/*" class="photo-input" id="photoInput0">
                        <label for="photoInput0" class="photo-label">
                            <span class="material-symbols-rounded">add_a_photo</span>
                            <span class="photo-label-text">全面部</span>
                        </label>
                        <div class="photo-preview" style="display: none;">
                            <img src="" alt="预览">
                            <button class="photo-remove" data-index="0">
                                <span class="material-symbols-rounded">close</span>
                            </button>
                            <div class="photo-type-badge">全面部</div>
                        </div>
                    </div>
                    <div class="photo-upload-slot" data-index="1">
                        <input type="file" accept="image/*" class="photo-input" id="photoInput1">
                        <label for="photoInput1" class="photo-label">
                            <span class="material-symbols-rounded">add_a_photo</span>
                            <span class="photo-label-text">侧面</span>
                        </label>
                        <div class="photo-preview" style="display: none;">
                            <img src="" alt="预览">
                            <button class="photo-remove" data-index="1">
                                <span class="material-symbols-rounded">close</span>
                            </button>
                            <div class="photo-type-badge">侧面</div>
                        </div>
                    </div>
                    <div class="photo-upload-slot" data-index="2">
                        <input type="file" accept="image/*" class="photo-input" id="photoInput2">
                        <label for="photoInput2" class="photo-label">
                            <span class="material-symbols-rounded">add_a_photo</span>
                            <span class="photo-label-text">局部特写</span>
                        </label>
                        <div class="photo-preview" style="display: none;">
                            <img src="" alt="预览">
                            <button class="photo-remove" data-index="2">
                                <span class="material-symbols-rounded">close</span>
                            </button>
                            <div class="photo-type-badge">局部特写</div>
                        </div>
                    </div>
                </div>
                <div class="photo-tips">
                    <span class="material-symbols-rounded">info</span>
                    <div>
                        <p><strong>拍摄建议：</strong></p>
                        <ul>
                            <li>在自然光或充足照明下拍摄</li>
                            <li>保持面部清洁，不化妆</li>
                            <li>正对镜头，表情自然</li>
                            <li>确保照片清晰，不模糊</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="section-actions">
                <button class="secondary-btn" id="photoBackBtn">
                    <span class="material-symbols-rounded">arrow_back</span>
                    返回
                </button>
                <button class="primary-btn" id="photoNextBtn" disabled>
                    下一步
                    <span class="material-symbols-rounded">arrow_forward</span>
                </button>
            </div>
        </section>

        <!-- Questionnaire Section -->
        <section id="questionnaireSection" class="section">
            <div class="section-header">
                <h2>
                    <span class="material-symbols-rounded">checklist</span>
                    问题分类
                </h2>
                <p class="section-subtitle">帮助我们更好地了解您的需求</p>
            </div>
            <div class="questionnaire-container">
                <div class="question-group">
                    <h3>
                        <span class="material-symbols-rounded">spa</span>
                        您关注的皮肤问题（可多选）
                    </h3>
                    <div class="checkbox-grid" id="skinProblemsGrid">
                        <!-- Will be populated by JavaScript -->
                    </div>
                </div>

                <div class="question-group">
                    <h3>
                        <span class="material-symbols-rounded">face_retouching_natural</span>
                        您的医美需求（可多选）
                    </h3>
                    <div class="checkbox-grid" id="needsGrid">
                        <!-- Will be populated by JavaScript -->
                    </div>
                </div>

                <div class="question-group">
                    <h3>
                        <span class="material-symbols-rounded">payments</span>
                        预算期望
                    </h3>
                    <div class="radio-grid" id="budgetGrid">
                        <label class="radio-option">
                            <input type="radio" name="budget" value="5000以下">
                            <span class="radio-label">5,000元以下</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="budget" value="5000-10000">
                            <span class="radio-label">5,000 - 10,000元</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="budget" value="10000-20000">
                            <span class="radio-label">10,000 - 20,000元</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="budget" value="20000以上">
                            <span class="radio-label">20,000元以上</span>
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <h3>
                        <span class="material-symbols-rounded">schedule</span>
                        恢复时间预期
                    </h3>
                    <div class="radio-grid" id="recoveryGrid">
                        <label class="radio-option">
                            <input type="radio" name="recovery" value="无恢复期">
                            <span class="radio-label">无恢复期（即做即走）</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="recovery" value="1-3天">
                            <span class="radio-label">1-3天</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="recovery" value="3-7天">
                            <span class="radio-label">3-7天</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="recovery" value="7天以上">
                            <span class="radio-label">7天以上可接受</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="section-actions">
                <button class="secondary-btn" id="questionnaireBackBtn">
                    <span class="material-symbols-rounded">arrow_back</span>
                    返回
                </button>
                <button class="primary-btn" id="questionnaireNextBtn">
                    AI问题确认
                    <span class="material-symbols-rounded">arrow_forward</span>
                </button>
            </div>
        </section>

        <!-- AI Confirmation Section -->
        <section id="aiConfirmSection" class="section">
            <div class="section-header">
                <h2>
                    <span class="material-symbols-rounded">psychology</span>
                    AI问题确认
                </h2>
                <p class="section-subtitle">AI助手将帮助您进一步确认和细化需求</p>
            </div>
            <div class="ai-chat-container" id="aiChatContainer">
                <div class="chat-messages" id="chatMessages">
                    <!-- Chat messages will be added here -->
                </div>
                <div class="suggested-questions" id="suggestedQuestions">
                    <!-- Suggested questions will be added here -->
                </div>
                <div class="chat-input-container">
                    <textarea
                        id="chatInput"
                        class="chat-input"
                        placeholder="输入您的问题或点击上方建议问题..."
                        rows="1"
                    ></textarea>
                    <button class="chat-send-btn" id="chatSendBtn">
                        <span class="material-symbols-rounded">send</span>
                    </button>
                </div>
            </div>
            <div class="section-actions">
                <button class="secondary-btn" id="aiConfirmBackBtn">
                    <span class="material-symbols-rounded">arrow_back</span>
                    返回
                </button>
                <button class="primary-btn" id="aiConfirmNextBtn">
                    生成方案
                    <span class="material-symbols-rounded">arrow_forward</span>
                </button>
            </div>
        </section>

        <!-- Treatment Plans Section -->
        <section id="plansSection" class="section">
            <div class="section-header">
                <h2>
                    <span class="material-symbols-rounded">medical_services</span>
                    定制方案
                </h2>
                <p class="section-subtitle">为您推荐三种个性化治疗方案</p>
            </div>
            <div class="plans-container" id="plansContainer">
                <!-- Treatment plans will be added here -->
            </div>
            <div class="section-actions">
                <button class="secondary-btn" id="plansBackBtn">
                    <span class="material-symbols-rounded">arrow_back</span>
                    返回修改
                </button>
                <button class="primary-btn" id="exportReportBtn">
                    <span class="material-symbols-rounded">download</span>
                    导出报告
                </button>
            </div>
        </section>

        <!-- Doctor Info Section -->
        <section id="doctorSection" class="section">
            <div class="section-header">
                <h2>
                    <span class="material-symbols-rounded">local_hospital</span>
                    专家团队
                </h2>
            </div>
            <div class="doctor-card">
                <div class="doctor-photo">
                    <img src="images/dr-kuai.png" alt="蒯飞医生">
                </div>
                <div class="doctor-info">
                    <h3>蒯飞</h3>
                    <p class="doctor-title">医学博士</p>
                    <div class="doctor-credentials">
                        <div class="credential-item">
                            <span class="material-symbols-rounded">school</span>
                            <span>中国人民解放军第四军医大学</span>
                        </div>
                        <div class="credential-item">
                            <span class="material-symbols-rounded">work</span>
                            <span>中国人民解放军空军总医院骨干医生（近十年）</span>
                        </div>
                        <div class="credential-item">
                            <span class="material-symbols-rounded">description</span>
                            <span>4篇国际重点期刊文章发表者</span>
                        </div>
                        <div class="credential-item">
                            <span class="material-symbols-rounded">verified</span>
                            <span>持有1项个人发明专利</span>
                        </div>
                    </div>
                    <div class="doctor-schedule">
                        <span class="material-symbols-rounded">event</span>
                        <span><strong>门诊时间：</strong>周一至周六（请提前预约）</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Project Browser Section -->
        <section id="projectBrowserSection" class="section">
            <div class="section-header">
                <h2>
                    <span class="material-symbols-rounded">grid_view</span>
                    项目浏览
                </h2>
                <p class="section-subtitle">浏览所有医美项目，智能筛选找到最适合您的治疗方案</p>
            </div>

            <div class="project-browser-container">
                <!-- Filter Panel -->
                <div class="filter-panel">
                    <div class="filter-group">
                        <label class="filter-label">
                            <span class="material-symbols-rounded">category</span>
                            项目分类
                        </label>
                        <select id="projectCategoryFilter" class="filter-select">
                            <option value="all">所有分类</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">
                            <span class="material-symbols-rounded">search</span>
                            搜索项目
                        </label>
                        <input type="text" id="projectSearch" class="filter-input" placeholder="输入项目名称或关键词...">
                    </div>

                    <div class="filter-group price-range">
                        <label class="filter-label">
                            <span class="material-symbols-rounded">payments</span>
                            价格范围
                        </label>
                        <div class="price-inputs">
                            <input type="number" id="projectPriceMin" class="filter-input small" placeholder="最低价" value="0" min="0">
                            <span>-</span>
                            <input type="number" id="projectPriceMax" class="filter-input small" placeholder="最高价" value="100000" min="0">
                        </div>
                    </div>

                    <div class="filter-actions">
                        <button class="primary-btn" id="problemRecommendBtn">
                            <span class="material-symbols-rounded">auto_awesome</span>
                            AI智能推荐
                        </button>
                        <button class="secondary-btn" id="clearFiltersBtn">
                            <span class="material-symbols-rounded">filter_alt_off</span>
                            清除筛选
                        </button>
                    </div>
                </div>

                <!-- Results Counter -->
                <div class="results-counter">
                    <span id="projectResultCount">加载中...</span>
                </div>

                <!-- Projects Grid -->
                <div class="projects-grid" id="projectsGrid">
                    <!-- Project cards will be rendered here -->
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="app-footer">
        <div class="footer-nav">
            <button class="footer-btn" data-section="welcomeSection">
                <span class="material-symbols-rounded">home</span>
                <span>首页</span>
            </button>
            <button class="footer-btn" data-section="projectBrowserSection">
                <span class="material-symbols-rounded">grid_view</span>
                <span>项目</span>
            </button>
            <button class="footer-btn" data-section="aiConfirmSection">
                <span class="material-symbols-rounded">chat</span>
                <span>AI咨询</span>
            </button>
            <button class="footer-btn" data-section="plansSection">
                <span class="material-symbols-rounded">medical_services</span>
                <span>方案</span>
            </button>
            <button class="footer-btn" data-section="doctorSection">
                <span class="material-symbols-rounded">person</span>
                <span>医生</span>
            </button>
        </div>
        <div class="footer-info">
            <div class="footer-contact">
                <p>重庆联合丽格第五医疗美容医院</p>
                <p>地址：重庆市渝中区临江支路28号</p>
                <p>电子邮件：bccsw@cqlhlg.work | 联系电话：023-68726872</p>
            </div>
            <div class="footer-qr">
                <img src="images/consultant-qr.png" alt="咨询二维码">
                <p>扫码咨询</p>
            </div>
        </div>
        <div class="footer-legal">
            <a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener">渝ICP备15004871号</a>
            <span class="separator">|</span>
            <a href="http://www.beian.gov.cn/portal/registerSystemInfo" target="_blank" rel="noopener">渝公网安备50010302001456号</a>
        </div>
    </footer>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>
                    <span class="material-symbols-rounded">settings</span>
                    设置
                </h2>
                <button class="modal-close" data-modal="settingsModal">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="settings-group">
                    <h3>主题配色</h3>
                    <div class="theme-selector" id="themeSelector">
                        <button class="theme-option" data-theme="elegant">
                            <div class="theme-preview elegant-theme"></div>
                            <span>优雅灰</span>
                        </button>
                        <button class="theme-option" data-theme="warm">
                            <div class="theme-preview warm-theme"></div>
                            <span>温暖驼</span>
                        </button>
                        <button class="theme-option" data-theme="fresh">
                            <div class="theme-preview fresh-theme"></div>
                            <span>清新绿</span>
                        </button>
                        <button class="theme-option" data-theme="romantic">
                            <div class="theme-preview romantic-theme"></div>
                            <span>浪漫紫</span>
                        </button>
                    </div>
                </div>

                <div class="settings-group">
                    <h3>字体大小</h3>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="fontSize" value="small">
                            <span class="radio-label">小</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="fontSize" value="medium" checked>
                            <span class="radio-label">中</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="fontSize" value="large">
                            <span class="radio-label">大</span>
                        </label>
                    </div>
                </div>

                <div class="settings-group">
                    <h3>AI输出风格</h3>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="aiStyle" value="casual">
                            <span class="radio-label">轻松幽默</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="aiStyle" value="standard" checked>
                            <span class="radio-label">标准日常</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="aiStyle" value="professional">
                            <span class="radio-label">科学严谨</span>
                        </label>
                    </div>
                </div>

                <div class="settings-group">
                    <h3>AI输出长度</h3>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="aiLength" value="detailed">
                            <span class="radio-label">详细</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="aiLength" value="standard">
                            <span class="radio-label">标准</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="aiLength" value="concise" checked>
                            <span class="radio-label">简约</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- About Modal -->
    <div class="modal" id="aboutModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>
                    <span class="material-symbols-rounded">info</span>
                    关于智搭医美
                </h2>
                <button class="modal-close" data-modal="aboutModal">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="about-content">
                    <img src="images/logo.png" alt="智搭医美" class="about-logo">
                    <h3>智搭医美</h3>
                    <p class="about-version">版本 1.0.0</p>
                    <p class="about-description">
                        智搭医美是重庆联合丽格第五医疗美容医院打造的AI驱动个性化医美方案定制平台。
                        通过先进的AI技术和专业医生团队，为每一位用户提供科学、安全、个性化的医美建议。
                    </p>
                    <div class="about-features">
                        <h4>核心功能</h4>
                        <ul>
                            <li>智能照片分析与皮肤问题识别</li>
                            <li>个性化需求问卷与AI确认</li>
                            <li>三种定制化治疗方案推荐</li>
                            <li>专业医生团队审核把关</li>
                            <li>完整报告生成与导出</li>
                        </ul>
                    </div>
                    <div class="disclaimer-link">
                        <button class="link-btn" id="viewDisclaimerBtn">
                            <span class="material-symbols-rounded">gavel</span>
                            查看免责声明
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Guide Modal -->
    <div class="modal" id="guideModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h2>
                    <span class="material-symbols-rounded">help</span>
                    使用指南
                </h2>
                <button class="modal-close" data-modal="guideModal">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="guide-content">
                    <div class="guide-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h3>上传照片</h3>
                            <p>拍摄或上传1-3张照片，包括全面部、侧面和局部特写。建议在自然光下拍摄，保持面部清洁无妆。</p>
                        </div>
                    </div>
                    <div class="guide-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h3>问题分类</h3>
                            <p>选择您关注的皮肤问题、医美需求、预算期望和恢复时间预期。这些信息将帮助AI更准确地分析您的需求。</p>
                        </div>
                    </div>
                    <div class="guide-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h3>AI问题确认</h3>
                            <p>AI助手会根据您的照片和问题分类，进一步确认和细化需求。您可以与AI对话，提出任何疑问。</p>
                        </div>
                    </div>
                    <div class="guide-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h3>查看方案</h3>
                            <p>系统将为您生成三种个性化方案：标准程序（效果确切）、快捷省时（快速解决）、私人医生诊疗（辩证施治）。</p>
                        </div>
                    </div>
                    <div class="guide-step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <h3>导出报告</h3>
                            <p>满意后可以导出完整报告（PNG或PDF格式），也可以保存到历史记录随时查看。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Disclaimer Modal -->
    <div class="modal" id="disclaimerModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h2>
                    <span class="material-symbols-rounded">gavel</span>
                    免责声明
                </h2>
                <button class="modal-close" data-modal="disclaimerModal">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="disclaimer-content">
                    <h3>医疗免责声明</h3>
                    <p>
                        本应用提供的信息和建议仅供参考，不构成医疗诊断或治疗建议。任何医美治疗决策应在专业医生面诊后做出。
                        个体差异可能导致实际效果与预期不同，治疗效果因人而异。
                    </p>

                    <h3>AI内容免责</h3>
                    <p>
                        本应用使用AI技术提供咨询服务，AI生成的内容可能存在不准确或不完整的情况。
                        所有AI建议均需经过专业医生审核确认后方可实施。用户应理性对待AI建议，不应完全依赖AI判断。
                    </p>

                    <h3>个人信息保护</h3>
                    <p>
                        我们严格遵守《中华人民共和国个人信息保护法》，保护用户个人信息安全。
                        上传的照片和个人信息仅用于医美方案定制，不会用于其他商业用途。
                        用户有权随时查看、修改或删除个人信息。
                    </p>

                    <h3>隐私保护声明</h3>
                    <p>
                        • 所有上传的照片和数据均加密存储<br>
                        • 个人信息不会与第三方共享<br>
                        • 用户可以随时删除本地历史记录<br>
                        • 我们采用行业标准的安全措施保护用户隐私<br>
                        • 建议在私密环境下使用本应用
                    </p>

                    <h3>风险提示</h3>
                    <p>
                        任何医美治疗都存在一定风险，包括但不限于：感染、过敏、效果不理想、需要修复治疗等。
                        请在充分了解风险并与医生详细沟通后再做决定。
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- History Modal -->
    <div class="modal" id="historyModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h2>
                    <span class="material-symbols-rounded">history</span>
                    历史记录
                </h2>
                <button class="modal-close" data-modal="historyModal">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="history-list" id="historyList">
                    <!-- History items will be added here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Export Modal -->
    <div class="modal" id="exportModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>
                    <span class="material-symbols-rounded">download</span>
                    导出报告
                </h2>
                <button class="modal-close" data-modal="exportModal">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="export-options">
                    <button class="export-btn" id="exportPngBtn">
                        <span class="material-symbols-rounded">image</span>
                        <span>导出为PNG图片</span>
                    </button>
                    <button class="export-btn" id="exportPdfBtn">
                        <span class="material-symbols-rounded">picture_as_pdf</span>
                        <span>导出为PDF文档</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
        <div class="loading-spinner"></div>
        <p class="loading-text">AI正在分析中...</p>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast" style="display: none;">
        <span class="toast-icon material-symbols-rounded"></span>
        <span class="toast-message"></span>
    </div>

    <!-- Text Selection AI Popup -->
    <div class="selection-ai-popup" id="selectionAiPopup" style="display: none;">
        <button class="selection-ai-btn" id="selectionAiBtn" title="AI解释">
            <span class="material-symbols-rounded">auto_awesome</span>
        </button>
    </div>

    <script src="js/app.js" type="module"></script>
</body>
</html>
